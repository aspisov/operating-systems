# Отчёт  ИДЗ 4 (Вариант 21)

### Исполнитель
- **Фамилия Имя Отчество**: Асписов Дмитрий Алексеевич
- **Группа**: БПИ226

### Номер варианта и условие задачи
- **Номер варианта**: 21
- **Условие задачи**: 

**Задача о нелюдимых садовниках**. Имеется пустой участок земли (двумерный массив размером M × N ) и план сада, разбитого на отдельные квадраты. От 10 до 30 процентов (задается случай- но) площади сада заняты прудами или камнями. То есть недоступ- ны для ухаживания. Эти квадраты располагаются на плане про- извольным (случайным) образом. Ухаживание за садом выполня- ют два садовника, которые не хотят встречаться друг другом (то есть, одновременно появляться в одном и том же квадрате). Пер- вый садовник начинает работу с верхнего левого угла сада и пере- мещается слева направо, сделав ряд, он спускается вниз и идет в обратном направлении, пропуская обработанные участки. Второй садовник начинает работу с нижнего правого угла сада и переме- щается снизу вверх, сделав ряд, он перемещается влево и также идет в обратную сторону. Если садовник видит, что участок сада уже обработан другим садовником или является необрабатывае- мым, он идет дальше. Если по пути какой-то участок занят дру- гим садовником, то садовник ожидает когда участок освободится, чтобы пройти дальше на доступный ему необработанный участок. Садовники должны работать одновременно со скоростями, опре- деляемыми как параметры задачи. Прохождение через любой квадрат занимает некоторое время, которое задается константой, меньшей чем времена обработки и принимается за единицу време- ни.
Создать клиент–серверное приложение, моделирующее ра- боту садовников.
Каждого садовника представить отдельным клиентом. Сам сад — сервер.

#### Требования и их реализация

1. **Запуск программ с указанием IP-адреса и порта**: 
   Все программы (сервер и клиенты) принимают IP-адрес и порт в качестве аргументов командной строки. Это позволяет легко настраивать сеть для работы приложения.
   ```sh
   ./server
   ./client 127.0.0.1 8080 1
   ./client 127.0.0.1 8080 2
   ./monitor_client 127.0.0.1 8080
   ```

2. **Работа в распределенном режиме**:
   Приложение разработано таким образом, чтобы сервер и клиенты могли работать на разных компьютерах в сети, обеспечивая распределенную обработку данных.

3. **Обработка клиентов и серверов**:
   Для корректного взаимодействия сервер и клиенты используют сокеты и протокол UDP для обмена сообщениями.

4. **Результаты работы**:
   В процессе работы клиенты обрабатывают участки сада, сервер синхронизирует их действия и передает обновленное состояние сада всем клиентам. 

### Реализация для отметки 4–5 баллов

#### Сервер и клиенты обрабатывают только поступающую информацию

Сервер и клиенты обрабатывают только ту информацию, которая поступает им во время обмена сообщениями. Клиенты не имеют общего интегрированного вывода, отображающего поведение системы в целом. 

### Реализация для отметки 6–7 баллов

#### Добавлен мониторинг работы

Для мониторинга работы приложения разработан отдельный клиент, который подключается к серверу и отображает комплексную информацию о выполнении приложения. 

### Реализация для отметки 8 баллов

#### Поддержка множества клиентов

Приложение модифицировано таким образом, чтобы поддерживать множество клиентов, отображающих информацию о работе приложения. Клиенты могут подключаться и отключаться в динамическом режиме без нарушения работы всего приложения.

### Реализация для отметки 9 баллов

#### Отключение и повторное подключение клиентов

Разработано приложение, позволяющее отключать и подключать различных клиентов с сохранением работоспособности сервера. Клиенты могут быть запущены снова, и приложение продолжит свою работу.

### Реализация для отметки 10 баллов

#### Корректное завершение работы сервера

Программа расширена таким образом, чтобы при завершении работы сервера происходило корректное завершение работы всех подключенных клиентов. 

### Компиляция и запуск

1. Компиляция сервера:
    ```sh
    gcc server.c -o server -pthread
    ```

2. Компиляция клиента-садовника:
    ```sh
    gcc client.c -o client
    ```

3. Компиляция клиента-монитора:
    ```sh
    gcc monitor_client.c -o monitor_client
    ```

### Запуск программы

1. Запуск сервера:
    ```sh
    ./server
    ```

2. Запуск клиентов-садовников:
    - Садовник 1:
      ```sh
      ./client 127.0.0.1 8080 1
      ```
    - Садовник 2:
      ```sh
      ./client 127.0.0.1 8080 2
      ```

3. Запуск клиентов-мониторов:
    ```sh
    ./monitor_client 127.0.0.1 8080
    ```

## Тестрование и результаты
К каждому решению прилагается от 3 тестов функционала программы, которые хранятся в папке `tests` внутри каждого решения, например для решения на 4-5 баллов это `/4-5/tests`.